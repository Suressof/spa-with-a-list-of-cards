(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33595,e=>{"use strict";let t,r,n,s;var i,a=e.i(71645);let o=e=>{let t,r=new Set,n=(e,n)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=n?n:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,i={setState:n,getState:s,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e))},a=t=e(n,s,i);return i},l=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>l(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>l(t)(e)}}},c=(n=(i=(t=(e,t)=>({products:[],likedFilter:!1,searchQuery:"",categoryFilter:"",currentPage:1,itemsPerPage:8,setProducts:t=>e({products:t}),addProducts:t=>e(e=>{let r=new Set(e.products.map(e=>e.id)),n=t.filter(e=>!r.has(e.id));return{products:[...e.products,...n]}}),toggleLike:t=>e(e=>({products:e.products.map(e=>e.id===t?{...e,isLiked:!e.isLiked}:e)})),deleteProduct:t=>e(e=>({products:e.products.filter(e=>e.id!==t)})),addProduct:t=>e(e=>{let r={id:(e.products.length>0?Math.max(...e.products.map(e=>e.id)):1e4)+1,title:t.title,description:t.description,price:t.price?Number(t.price):0,brand:t.brand,category:t.category,thumbnail:t.thumbnail,discountPercentage:t.discountPercentage?Number(t.discountPercentage):0,rating:t.rating?Number(t.rating):0,stock:t.stock?Number(t.stock):0,images:[t.thumbnail],isLiked:!1};return console.log("ðŸ†• CREATING NEW PRODUCT:",r),{products:[...e.products,r]}}),updateProduct:(t,r)=>e(e=>{console.log("ðŸ”„ UPDATING PRODUCT:",t,r);let n=e.products.map(e=>e.id===t?{...e,title:r.title,description:r.description,price:Number(r.price),discountPercentage:Number(r.discountPercentage||0),rating:Number(r.rating||0),stock:Number(r.stock||0),brand:r.brand,category:r.category,thumbnail:r.thumbnail,images:[r.thumbnail]}:e);return console.log("ðŸ“¦ PRODUCTS AFTER UPDATE:",n),{products:n}}),setLikedFilter:t=>e({likedFilter:t,currentPage:1}),setSearchQuery:t=>e({searchQuery:t,currentPage:1}),setCategoryFilter:t=>e({categoryFilter:t,currentPage:1}),setCurrentPage:t=>e({currentPage:t})}),r={name:"products-store",partialize:e=>({products:e.products})},(e,n,s)=>{let i,a={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let n=e=>null===e?null:JSON.parse(e,void 0),s=null!=(t=r.getItem(e))?t:null;return s instanceof Promise?s.then(n):n(s)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...r},o=!1,c=new Set,d=new Set,u=a.storage;if(!u)return t((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),e(...t)},n,s);let m=()=>{let e=a.partialize({...n()});return u.setItem(a.name,{state:e,version:a.version})},g=s.setState;s.setState=(e,t)=>(g(e,t),m());let b=t((...t)=>(e(...t),m()),n,s);s.getInitialState=()=>b;let p=()=>{var t,r;if(!u)return;o=!1,c.forEach(e=>{var t;return e(null!=(t=n())?t:b)});let s=(null==(r=a.onRehydrateStorage)?void 0:r.call(a,null!=(t=n())?t:b))||void 0;return l(u.getItem.bind(u))(a.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===a.version)return[!1,e.state];else{if(a.migrate){let t=a.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(t=>{var r;let[s,o]=t;if(e(i=a.merge(o,null!=(r=n())?r:b),!0),s)return m()}).then(()=>{null==s||s(i,void 0),i=n(),o=!0,d.forEach(e=>e(i))}).catch(e=>{null==s||s(void 0,e)})};return s.persist={setOptions:e=>{a={...a,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},a.skipHydration||p(),i||b}))?o(i):o,Object.assign(s=e=>(function(e,t=e=>e){let r=a.default.useSyncExternalStore(e.subscribe,a.default.useCallback(()=>t(e.getState()),[e,t]),a.default.useCallback(()=>t(e.getInitialState()),[e,t]));return a.default.useDebugValue(r),r})(n,e),n),s);e.s(["useStore",0,c],33595)},18566,(e,t,r)=>{t.exports=e.r(76562)},22830,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(18566),s=e.i(33595);function i({paramss:e}){let i=(0,n.useRouter)(),a=Number(e.id),{products:o,updateProduct:l}=(0,s.useStore)(),c=o.find(e=>e.id===a),[d,u]=(0,r.useState)({title:"",description:"",price:"0",discountPercentage:"0",rating:"0",stock:"0",brand:"",category:"",thumbnail:""}),[m,g]=(0,r.useState)({}),[b,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{c&&u({title:c.title,description:c.description,price:c.price.toString(),discountPercentage:c.discountPercentage.toString(),rating:c.rating.toString(),stock:c.stock.toString(),brand:c.brand,category:c.category,thumbnail:c.thumbnail})},[c]);let x=async e=>{let t;if(e.preventDefault(),t={},d.title.trim()||(t.title="Title is required"),d.description.trim()||(t.description="Description is required"),0>=Number(d.price)&&(t.price="Price must be greater than 0"),d.brand.trim()||(t.brand="Brand is required"),d.category.trim()||(t.category="Category is required"),d.thumbnail.trim()||(t.thumbnail="Image URL is required"),(0>Number(d.discountPercentage)||Number(d.discountPercentage)>100)&&(t.discountPercentage="Discount must be between 0 and 100"),(0>Number(d.rating)||Number(d.rating)>5)&&(t.rating="Rating must be between 0 and 5"),0>Number(d.stock)&&(t.stock="Stock cannot be negative"),g(t),0===Object.keys(t).length){p(!0);try{console.log("ðŸŽ¯ UPDATING PRODUCT:",a,d),l(a,d),await new Promise(e=>setTimeout(e,300)),i.push(`/products/${a}`),i.refresh()}catch(e){console.error("âŒ Error updating product:",e)}finally{p(!1)}}},h=e=>{let{name:t,value:r}=e.target;u(e=>({...e,[t]:["price","discountPercentage","rating","stock"].includes(t)?Number(r):r}))};return c?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto px-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Edit Product"})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,t.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),(0,t.jsx)("input",{type:"text",name:"title",value:d.title,onChange:h,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${m.title?"border-red-500":"border-gray-300"}`}),m.title&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.title})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,t.jsx)("textarea",{name:"description",value:d.description,onChange:h,rows:4,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${m.description?"border-red-500":"border-gray-300"}`}),m.description&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.description})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price *"}),(0,t.jsx)("input",{type:"number",name:"price",value:d.price,onChange:h,step:"0.01",min:"0",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${m.price?"border-red-500":"border-gray-300"}`}),m.price&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.price})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand *"}),(0,t.jsx)("input",{type:"text",name:"brand",value:d.brand,onChange:h,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${m.brand?"border-red-500":"border-gray-300"}`}),m.brand&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.brand})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(0,t.jsx)("input",{type:"text",name:"category",value:d.category,onChange:h,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${m.category?"border-red-500":"border-gray-300"}`}),m.category&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.category})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL *"}),(0,t.jsx)("input",{type:"url",name:"thumbnail",value:d.thumbnail,onChange:h,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${m.thumbnail?"border-red-500":"border-gray-300"}`}),m.thumbnail&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.thumbnail})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount %"}),(0,t.jsx)("input",{type:"number",name:"discountPercentage",value:d.discountPercentage,onChange:h,min:"0",max:"100",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${m.discountPercentage?"border-red-500":"border-gray-300"}`}),m.discountPercentage&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.discountPercentage})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),(0,t.jsx)("input",{type:"number",name:"rating",value:d.rating,onChange:h,min:"0",max:"5",step:"0.1",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${m.rating?"border-red-500":"border-gray-300"}`}),m.rating&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.rating})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock"}),(0,t.jsx)("input",{type:"number",name:"stock",value:d.stock,onChange:h,min:"0",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${m.stock?"border-red-500":"border-gray-300"}`}),m.stock&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.stock})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-6",children:[(0,t.jsx)("button",{type:"submit",disabled:b,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 transition-colors font-semibold",children:b?"Updating...":"Update Product"}),(0,t.jsx)("button",{type:"button",onClick:()=>i.push(`/products/${a}`),className:"flex-1 bg-gray-500 text-white py-3 px-6 rounded-lg hover:bg-gray-600 transition-colors font-semibold",children:"Cancel"})]})]})})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Product not found"}),(0,t.jsx)("button",{onClick:()=>i.push("/products"),className:"text-blue-500 hover:underline",children:"Back to Products"})]})})}e.s(["default",()=>i])}]);