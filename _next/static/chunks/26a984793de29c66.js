(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},33595,e=>{"use strict";let t,r,a,n;var s,o=e.i(71645);let i=e=>{let t,r=new Set,a=(e,a)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=a?a:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,s={setState:a,getState:n,getInitialState:()=>o,subscribe:e=>(r.add(e),()=>r.delete(e))},o=t=e(a,n,s);return s},l=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>l(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>l(t)(e)}}},c=(a=(s=(t=(e,t)=>({products:[],likedFilter:!1,searchQuery:"",categoryFilter:"",currentPage:1,itemsPerPage:8,setProducts:t=>e({products:t}),addProducts:t=>e(e=>{let r=new Set(e.products.map(e=>e.id)),a=t.filter(e=>!r.has(e.id));return{products:[...e.products,...a]}}),toggleLike:t=>e(e=>({products:e.products.map(e=>e.id===t?{...e,isLiked:!e.isLiked}:e)})),deleteProduct:t=>e(e=>({products:e.products.filter(e=>e.id!==t)})),addProduct:t=>e(e=>{let r={id:(e.products.length>0?Math.max(...e.products.map(e=>e.id)):1e4)+1,title:t.title,description:t.description,price:t.price?Number(t.price):0,brand:t.brand,category:t.category,thumbnail:t.thumbnail,discountPercentage:t.discountPercentage?Number(t.discountPercentage):0,rating:t.rating?Number(t.rating):0,stock:t.stock?Number(t.stock):0,images:[t.thumbnail],isLiked:!1};return console.log("ðŸ†• CREATING NEW PRODUCT:",r),{products:[...e.products,r]}}),updateProduct:(t,r)=>e(e=>{console.log("ðŸ”„ UPDATING PRODUCT:",t,r);let a=e.products.map(e=>e.id===t?{...e,title:r.title,description:r.description,price:Number(r.price),discountPercentage:Number(r.discountPercentage||0),rating:Number(r.rating||0),stock:Number(r.stock||0),brand:r.brand,category:r.category,thumbnail:r.thumbnail,images:[r.thumbnail]}:e);return console.log("ðŸ“¦ PRODUCTS AFTER UPDATE:",a),{products:a}}),setLikedFilter:t=>e({likedFilter:t,currentPage:1}),setSearchQuery:t=>e({searchQuery:t,currentPage:1}),setCategoryFilter:t=>e({categoryFilter:t,currentPage:1}),setCurrentPage:t=>e({currentPage:t})}),r={name:"products-store",partialize:e=>({products:e.products})},(e,a,n)=>{let s,o={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let a=e=>null===e?null:JSON.parse(e,void 0),n=null!=(t=r.getItem(e))?t:null;return n instanceof Promise?n.then(a):a(n)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...r},i=!1,c=new Set,d=new Set,u=o.storage;if(!u)return t((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),e(...t)},a,n);let m=()=>{let e=o.partialize({...a()});return u.setItem(o.name,{state:e,version:o.version})},g=n.setState;n.setState=(e,t)=>(g(e,t),m());let p=t((...t)=>(e(...t),m()),a,n);n.getInitialState=()=>p;let b=()=>{var t,r;if(!u)return;i=!1,c.forEach(e=>{var t;return e(null!=(t=a())?t:p)});let n=(null==(r=o.onRehydrateStorage)?void 0:r.call(o,null!=(t=a())?t:p))||void 0;return l(u.getItem.bind(u))(o.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];else{if(o.migrate){let t=o.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(t=>{var r;let[n,i]=t;if(e(s=o.merge(i,null!=(r=a())?r:p),!0),n)return m()}).then(()=>{null==n||n(s,void 0),s=a(),i=!0,d.forEach(e=>e(s))}).catch(e=>{null==n||n(void 0,e)})};return n.persist={setOptions:e=>{o={...o,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>b(),hasHydrated:()=>i,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},o.skipHydration||b(),s||p}))?i(s):i,Object.assign(n=e=>(function(e,t=e=>e){let r=o.default.useSyncExternalStore(e.subscribe,o.default.useCallback(()=>t(e.getState()),[e,t]),o.default.useCallback(()=>t(e.getInitialState()),[e,t]));return o.default.useDebugValue(r),r})(a,e),a),n);e.s(["useStore",0,c],33595)},98915,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),n=e.i(33595);function s(){let e=(0,a.useRouter)(),s=(0,n.useStore)(e=>e.addProduct),o=(0,n.useStore)(e=>e.products),[i,l]=(0,r.useState)({title:"",description:"",price:0,brand:"",category:"",thumbnail:""}),[c,d]=(0,r.useState)(!1),u=async t=>{t.preventDefault(),d(!0),console.log("ðŸŽ¯ FORM SUBMITTED"),console.log("ðŸ“ Form data:",i),console.log("ðŸ“Š Current products before:",o.length);try{s({...i,price:i.price.toString()}),console.log("âœ… Product added to store - waiting for state update..."),await new Promise(e=>setTimeout(e,500)),console.log("ðŸ”„ Navigating to products page..."),e.push("/products"),e.refresh()}catch(e){console.error("âŒ Error adding product:",e)}finally{d(!1)}},m=e=>{let{name:t,value:r}=e.target;l(e=>({...e,[t]:"price"===t?Number(r):r}))};return(0,t.jsxs)("div",{className:"max-w-2xl mx-auto p-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Create New Product"}),(0,t.jsxs)("form",{onSubmit:u,className:"space-y-6 bg-white p-6 rounded-lg shadow-md",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Title *"}),(0,t.jsx)("input",{type:"text",name:"title",value:i.title,onChange:m,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter product title"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Description *"}),(0,t.jsx)("textarea",{name:"description",value:i.description,onChange:m,required:!0,rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter product description"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Price *"}),(0,t.jsx)("input",{type:"number",name:"price",value:i.price,onChange:m,required:!0,min:"0",step:"0.01",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Brand *"}),(0,t.jsx)("input",{type:"text",name:"brand",value:i.brand,onChange:m,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter brand"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Category *"}),(0,t.jsx)("input",{type:"text",name:"category",value:i.category,onChange:m,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter category"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Image URL *"}),(0,t.jsx)("input",{type:"url",name:"thumbnail",value:i.thumbnail,onChange:m,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-6",children:[(0,t.jsx)("button",{type:"submit",disabled:c,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 transition-colors font-semibold",children:c?"Creating...":"Create Product"}),(0,t.jsx)("button",{type:"button",onClick:()=>e.push("/products"),className:"flex-1 bg-gray-500 text-white py-3 px-6 rounded-lg hover:bg-gray-600 transition-colors font-semibold",children:"Cancel"})]})]})]})}function o(){return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white shadow-sm",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Create New Product"})})}),(0,t.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,t.jsx)(s,{})})]})}e.s(["default",()=>o],98915)}]);