(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[268],{1194:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var l=i(7876),s=i(4232);let n=e=>{let t,i=new Set,l=(e,l)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=l?l:"object"!=typeof s||null===s)?s:Object.assign({},t,s),i.forEach(i=>i(t,e))}},s=()=>t,n={setState:l,getState:s,getInitialState:()=>r,subscribe:e=>(i.add(e),()=>i.delete(e))},r=t=e(l,s,n);return n},r=e=>{let t=(e=>e?n(e):n)(e),i=e=>(function(e,t=e=>e){let i=s.useSyncExternalStore(e.subscribe,s.useCallback(()=>t(e.getState()),[e,t]),s.useCallback(()=>t(e.getInitialState()),[e,t]));return s.useDebugValue(i),i})(t,e);return Object.assign(i,t),i},c=(e=>e?r(e):r)(e=>({items:[],setProducts:t=>e({items:t}),toggleLike:t=>e(e=>({items:e.items.map(e=>e.id===t?{...e,liked:!e.liked}:e)})),deleteProduct:t=>e(e=>({items:e.items.filter(e=>e.id!==t)})),filter:"all",setFilter:t=>e({filter:t})}));var d=i(9099);let o=e=>{let{product:t}=e,i=c(e=>e.toggleLike),s=c(e=>e.deleteProduct),n=(0,d.useRouter)();return(0,l.jsxs)("div",{onClick:()=>n.push("/products/".concat(t.id)),style:{border:"1px solid #ccc",padding:"16px",margin:"8px",width:"200px",cursor:"pointer",display:"flex",flexDirection:"column",justifyContent:"space-between",height:"300px"},children:[(0,l.jsx)("img",{src:t.image,alt:t.title,style:{width:"100%",height:"150px",objectFit:"cover"}}),(0,l.jsx)("h4",{children:t.title}),(0,l.jsxs)("p",{children:[t.description.slice(0,60),"..."]}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),i(t.id)},style:{color:t.liked?"red":"black"},children:"♥"}),(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),s(t.id)},children:"\uD83D\uDDD1️"})]})]})};function a(){let e=c(e=>e.items),t=c(e=>e.setProducts),i=c(e=>e.filter),n=c(e=>e.setFilter);(0,s.useEffect)(()=>{fetch("https://fakestoreapi.com/products").then(e=>e.json()).then(e=>t(e.map(e=>({id:e.id,title:e.title,description:e.description,image:e.image,liked:!1}))))},[t]);let r="all"===i?e:e.filter(e=>e.liked);return(0,l.jsxs)("div",{style:{padding:"16px"},children:[(0,l.jsx)("h1",{children:"Products"}),(0,l.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,l.jsx)("button",{onClick:()=>n("all"),children:"All"}),(0,l.jsx)("button",{onClick:()=>n("liked"),style:{marginLeft:"8px"},children:"Liked"})]}),(0,l.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:r.map(e=>(0,l.jsx)(o,{product:e},e.id))})]})}},2411:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return i(1194)}])},9099:(e,t,i)=>{e.exports=i(6296)}},e=>{e.O(0,[636,593,792],()=>e(e.s=2411)),_N_E=e.O()}]);