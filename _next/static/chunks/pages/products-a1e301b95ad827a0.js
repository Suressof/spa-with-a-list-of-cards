(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[268],{1194:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var s=i(7876),l=i(4232);let r=e=>{let t,i=new Set,s=(e,s)=>{let l="function"==typeof e?e(t):e;if(!Object.is(l,t)){let e=t;t=(null!=s?s:"object"!=typeof l||null===l)?l:Object.assign({},t,l),i.forEach(i=>i(t,e))}},l=()=>t,r={setState:s,getState:l,getInitialState:()=>n,subscribe:e=>(i.add(e),()=>i.delete(e))},n=t=e(s,l,r);return r},n=e=>{let t=(e=>e?r(e):r)(e),i=e=>(function(e,t=e=>e){let i=l.useSyncExternalStore(e.subscribe,l.useCallback(()=>t(e.getState()),[e,t]),l.useCallback(()=>t(e.getInitialState()),[e,t]));return l.useDebugValue(i),i})(t,e);return Object.assign(i,t),i},c=(e=>e?n(e):n)(e=>({items:[],setProducts:t=>e({items:t}),toggleLike:t=>e(e=>({items:e.items.map(e=>e.id===t?{...e,liked:!e.liked}:e)})),deleteProduct:t=>e(e=>({items:e.items.filter(e=>e.id!==t)})),filter:"all",setFilter:t=>e({filter:t})}));var o=i(9099);let d=e=>{let{product:t}=e,i=c(e=>e.toggleLike),l=c(e=>e.deleteProduct),r=(0,o.useRouter)();return(0,s.jsxs)("div",{onClick:()=>r.push("/products/".concat(t.id)),style:{border:"1px solid #ccc",padding:"16px",margin:"8px",width:"200px",cursor:"pointer",display:"flex",flexDirection:"column",justifyContent:"space-between",height:"300px"},children:[(0,s.jsx)("img",{src:t.image,alt:t.title,style:{width:"100%",height:"150px",objectFit:"cover"}}),(0,s.jsx)("h4",{children:t.title}),(0,s.jsxs)("p",{children:[t.description.slice(0,60),"..."]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),i(t.id)},style:{color:t.liked?"red":"black"},children:"♥"}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),l(t.id)},children:"\uD83D\uDDD1️"})]})]})};function u(){let e=c(e=>e.items),t=c(e=>e.setProducts);return(0,l.useEffect)(()=>{fetch("https://fakestoreapi.com/products").then(e=>e.json()).then(e=>t(e.map(e=>({id:e.id,title:e.title,description:e.description,image:e.image,liked:!1}))))},[t]),(0,s.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:e.map(e=>(0,s.jsx)(d,{product:e},e.id))})}},2411:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return i(1194)}])},9099:(e,t,i)=>{e.exports=i(6296)}},e=>{e.O(0,[636,593,792],()=>e(e.s=2411)),_N_E=e.O()}]);